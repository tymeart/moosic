(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1629:function(e,t,a){},1631:function(e,t,a){},1633:function(e,t,a){},1635:function(e,t,a){},1637:function(e,t,a){},1639:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),l=a(26),r=a.n(l),c=(a(39),a(3)),i=a(4),o=a(7),u=a(5),m=a(8),p=a(6),d=(a(47),a(49),function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"Login center"},s.a.createElement("h1",null,"Welcome to Moosic"),s.a.createElement("p",null,"To continue, please log in to Spotify"),s.a.createElement("a",{href:"https://accounts.spotify.com/authorize/?client_id=".concat("2d9beb2f5b9447cbb788d9ac8324eb8f","&response_type=token&redirect_uri=").concat("https://tymeart.github.io/moosic/middle")},"Log In"))}}]),t}(n.Component)),y=a(1642),h=a(1644),g=a(2),E=a.n(g),f=function(e,t){return{type:"SAVE_SONG_INFO",payload:{track:e,album:t}}},v=a(11),b=(a(679),function(e){return e.albums.map(function(e){return s.a.createElement("li",{key:e.id},s.a.createElement("div",{className:"album-name truncate"},e.name),s.a.createElement("div",{className:"album-type"},e.type))})}),N=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).logOutAndRedirect=function(){a.props.logOut(),a.context.router.history.push("/login")},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("nav",{className:"Navbar"},s.a.createElement("div",{className:"navbar-main"},s.a.createElement("h1",{className:"App-title"},"moosic"),s.a.createElement(y.a,{to:"/search",activeClassName:"selected"},s.a.createElement(v.FaSearch,null),"Search"),s.a.createElement(y.a,{to:"/browse",activeClassName:"selected"},s.a.createElement(v.FaHome,null),"Home"),s.a.createElement(y.a,{to:"/collection",activeClassName:"selected"},s.a.createElement(v.FaMusic,null),"Your Music"),s.a.createElement("h2",null,"Recently Played"),s.a.createElement("ul",null,s.a.createElement(b,{albums:this.props.state.recentlyPlayed}))),s.a.createElement("button",{className:"logout",onClick:this.logOutAndRedirect},"Log Out"))}}]),t}(n.Component);N.contextTypes={router:E.a.object};var S=Object(h.a)(Object(p.b)(function(e){return{state:e}},function(e){return{logOut:function(){e({type:"LOG_OUT"})}}})(N)),O=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e="";window.location.hash?(e=window.location.hash.split("&")[0].split("=")[1],this.props.logIn(e),this.context.router.history.push("/")):console.log("ACCESS DENIED")}},{key:"render",value:function(){return s.a.createElement("div",null,"The intermediary component!")}}]),t}(n.Component);O.contextTypes={router:E.a.object};var k=Object(p.b)(null,function(e){return{logIn:function(t){e(function(e){return{type:"LOG_IN",token:e}}(t))}}})(O),w=a(1641),P=a(1643),_=a(33),j=a(30),T=function(e){var t=e.component,a=e.isLoggedIn,n=Object(_.a)(e,["component","isLoggedIn"]);return s.a.createElement(j.a,Object.assign({},n,{render:function(e){return!0===a?s.a.createElement(t,Object.assign({},e,n)):s.a.createElement(w.a,{to:"/login"})}}))},A=Object(h.a)(function(e){var t=e.categories,a=e.history;return console.log(t),s.a.createElement("div",null,s.a.createElement("h2",null,"Genres & Moods"),s.a.createElement("ul",{className:"tilelist"},t.slice(1).map(function(e){return s.a.createElement("li",{className:"tile",key:e.id},s.a.createElement("div",{className:"thumbnail",onClick:function(){a.push("/view/".concat(e.id),{genreName:e.name})}},s.a.createElement("img",{alt:"Thumbnail for ".concat(e.name," category"),src:"".concat(e.icons[0].url)}),s.a.createElement("div",{className:"overlay"})),s.a.createElement("div",{className:"title"},e.name))})))}),C=a(14),I=Object(h.a)(function(e){var t=e.playlists,a=e.history;return console.log(t),s.a.createElement("div",null,s.a.createElement("h2",null,"Featured"),s.a.createElement("ul",{className:"tilelist"},t.map(function(e){return s.a.createElement("li",{className:"tile",key:e.id},s.a.createElement("div",{className:"thumbnail",onClick:function(){a.push("/playlist/featured/".concat(e.id),{ownerId:"spotify",ownerName:"Spotify",playlistName:e.name,thumbnail:e.images[0].url})}},s.a.createElement("img",{alt:"Thumbnail for ".concat(e.name," playlist"),src:"".concat(e.images[0].url)}),s.a.createElement("div",{className:"overlay"},s.a.createElement(C.MdPlayCircleOutline,null))),s.a.createElement("div",{className:"title"},e.name))})))}),L=function(e){if(e.length>34){var t=e.substring(0,33);return" "===t[t.length-1]?t.slice(0,34)+"...":t+"..."}return e},R=function(e){var t="".concat(e[0].name);if(e.length>1)for(var a=1;a<e.length;a++)t+=", ".concat(e[a].name);return t},D=Object(h.a)(function(e){var t=e.newReleases,a=e.history;return console.log(t),s.a.createElement("div",null,s.a.createElement("h2",null,"New Albums & Singles"),s.a.createElement("ul",{className:"tilelist"},t.map(function(e){return s.a.createElement("li",{className:"tile",key:e.id},s.a.createElement("div",{className:"thumbnail",onClick:function(){a.push("/playlist/newreleases/".concat(e.id))}},s.a.createElement("img",{alt:"Thumbnail for the album ".concat(e.name),src:"".concat(e.images[1].url)}),s.a.createElement("div",{className:"overlay"},s.a.createElement(C.MdPlayCircleOutline,null))),s.a.createElement("div",{className:"albumName",title:e.name},L(e.name)),s.a.createElement("div",{className:"artistName"},L(R(e.artists))))})))}),M=(a(25),function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;0===this.props.state.genres.length&&fetch("https://api.spotify.com/v1/browse/categories",{headers:{Authorization:"Bearer ".concat(this.props.state.accessToken)}}).then(function(e){return e.json()}).then(function(t){e.props.saveGenres(t.categories.items)}),0===this.props.state.featuredPlaylists.length&&fetch("https://api.spotify.com/v1/browse/featured-playlists",{headers:{Authorization:"Bearer ".concat(this.props.state.accessToken)}}).then(function(e){return e.json()}).then(function(t){e.props.saveFeaturedPlaylists(t.playlists.items)}),0===this.props.state.newReleases.length&&fetch("https://api.spotify.com/v1/browse/new-releases",{headers:{Authorization:"Bearer ".concat(this.props.state.accessToken)}}).then(function(e){return e.json()}).then(function(t){e.props.saveNewReleases(t.albums.items)})}},{key:"render",value:function(){return s.a.createElement("div",{className:"Browse App-main"},s.a.createElement("nav",{className:"category-nav"},s.a.createElement("ul",null,s.a.createElement("li",null,s.a.createElement(y.a,{to:"/browse/featured",activeClassName:"selectedCategory"},"Featured")),s.a.createElement("li",null,s.a.createElement(y.a,{to:"/browse/genres",activeClassName:"selectedCategory"},"Genres & Moods")),s.a.createElement("li",null,s.a.createElement(y.a,{to:"/browse/newreleases",activeClassName:"selectedCategory"},"New Releases")))),this.props.match.url===this.props.location.pathname&&s.a.createElement(w.a,{to:"/browse/genres"}),s.a.createElement(P.a,null,s.a.createElement(T,{path:"/browse/featured",isLoggedIn:this.props.state.isLoggedIn,playlists:this.props.state.featuredPlaylists,component:I}),s.a.createElement(T,{path:"/browse/genres",isLoggedIn:this.props.state.isLoggedIn,categories:this.props.state.genres,component:A}),s.a.createElement(T,{path:"/browse/newreleases",isLoggedIn:this.props.state.isLoggedIn,newReleases:this.props.state.newReleases,component:D})))}}]),t}(n.Component)),G=Object(p.b)(function(e){return{state:e}},function(e){return{saveGenres:function(t){e(function(e){return{type:"SAVE_GENRES",payload:e}}(t))},saveFeaturedPlaylists:function(t){e(function(e){return{type:"SAVE_FEATURED_PLAYLISTS",payload:e}}(t))},saveNewReleases:function(t){e(function(e){return{type:"SAVE_NEW_RELEASES",payload:e}}(t))}}})(M),F=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={playlists:[]},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://api.spotify.com/v1/browse/categories/".concat(this.props.match.params.id,"/playlists"),{headers:{Authorization:"Bearer ".concat(this.props.state.accessToken)}}).then(function(e){return e.json()}).then(function(t){console.log(t.playlists.items),e.setState({playlists:t.playlists.items})}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"Browse App-main"},s.a.createElement("h2",null,this.props.location.state.genreName),s.a.createElement("ul",{className:"tilelist"},this.state.playlists.map(function(t){return s.a.createElement("li",{className:"tile",key:t.id},s.a.createElement("div",{className:"thumbnail",onClick:function(){e.props.history.push("/playlist/genres/".concat(t.id),{ownerId:t.owner.id,ownerName:t.owner.display_name,playlistName:t.name,thumbnail:t.images[0].url})}},s.a.createElement("img",{alt:"Thumbnail for ".concat(t.name," playlist"),src:"".concat(t.images[0].url)}),s.a.createElement("div",{className:"overlay"},s.a.createElement(C.MdPlayCircleOutline,null))),s.a.createElement("div",{className:"title"},t.name))})))}}]),t}(n.Component),U=Object(h.a)(Object(p.b)(function(e){return{state:e}})(F)),B=(a(1629),function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"Controls"},s.a.createElement("div",{className:"Controls-buttons"},s.a.createElement("button",null,s.a.createElement(v.FaStepBackward,{title:"Previous"})),s.a.createElement("button",{className:"play-pause",onClick:this.props.togglePlayPause},this.props.state.isPlaying?s.a.createElement(C.MdPauseCircleOutline,{title:"Pause"}):s.a.createElement(C.MdPlayCircleOutline,{title:"Play"})),s.a.createElement("button",null,s.a.createElement(v.FaStepForward,{title:"Next"}))),s.a.createElement("div",{className:"Controls-progress"},s.a.createElement("p",{className:"progress-time"},this.props.state.playerCurrentTimeDisplay),s.a.createElement("div",{className:"progress-bar"},s.a.createElement("div",{className:"progress-bar-completed",style:{width:this.props.state.playerProgressBarWidth}})),s.a.createElement("p",{className:"progress-time-total"},this.props.state.playerDurationDisplay)))}}]),t}(n.Component)),Y=Object(p.b)(function(e){return{state:e}})(B),W=(a(1631),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).togglePlayPause=function(){if(null!==a.props.state.currentlyPlayingSrc){var e=a.audioEl.current.play();void 0!==e&&e.then(function(e){isNaN(a.audioEl.current.duration)||a.props.updateSongDuration(a.formatTime(a.audioEl.current.duration)),a.props.state.isPlaying?(a.audioEl.current.pause(),a.props.togglePlayStatus()):(a.audioEl.current.play(),a.props.togglePlayStatus())}).catch(function(e){return console.log(e)})}},a.audioEl=s.a.createRef(),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.audioEl.current.addEventListener("timeupdate",function(){var t=e.formatTime(e.audioEl.current.currentTime),a=e.audioEl.current.currentTime/e.audioEl.current.duration;e.props.updateSongProgress(t,"".concat(400*a,"px"))})}},{key:"componentDidUpdate",value:function(){this.props.state.startSync&&(null===this.props.state.currentlyPlayingSrc?this.props.endStartSync():(this.togglePlayPause(),this.props.togglePlayStatus(),this.props.endStartSync()))}},{key:"formatTime",value:function(e){var t="".concat(Math.trunc(e/60)),a=e<10?"0".concat(Math.trunc(e%60)):"".concat(Math.trunc(e%60));return"".concat(t,":").concat(a)}},{key:"render",value:function(){var e=this.props.state,t=e.currentlyPlayingTrack,a=e.currentlyPlayingAlbum,n=t?R(t.artists):"";return s.a.createElement("div",{className:"player"},s.a.createElement("div",{className:"currently-playing-container"},a&&s.a.createElement("span",null,s.a.createElement("img",{src:a.images[0],alt:"Cover art for ".concat(a.name)}),s.a.createElement("div",{className:"currently-playing-info"},s.a.createElement("p",{className:"currently-playing-title truncate"},t.name),s.a.createElement("p",{className:"currently-playing-artist truncate"},n)))),s.a.createElement(Y,{togglePlayPause:this.togglePlayPause}),s.a.createElement("audio",{ref:this.audioEl,src:this.props.state.currentlyPlayingSrc},"Your browser does not support the ",s.a.createElement("code",null,"audio")," element."))}}]),t}(n.Component)),x=Object(p.b)(function(e){return{state:e}},function(e){return{endStartSync:function(){e({type:"END_START_SYNC"})},togglePlayStatus:function(){e({type:"TOGGLE_PLAY_STATUS"})},updateSongProgress:function(t,a){e(function(e,t){return{type:"UPDATE_SONG_PROGRESS",payload:{currentTimeDisplay:e,progressBarWidth:t}}}(t,a))},updateSongDuration:function(t){e(function(e){return{type:"UPDATE_SONG_DURATION",payload:{durationDisplay:e}}}(t))}}})(W),V=function(e){var t=e/1e3,a="".concat(Math.trunc(t/60)),n=t%60<10?"0".concat(Math.trunc(t%60)):"".concat(Math.trunc(t%60));return"".concat(a,":").concat(n)},z=Object(h.a)(function(e){var t=e.results,a=e.isPlaying,n=e.saveSongInfo,l=e.startSync,r=e.togglePlayStatus,c=e.history;console.log(t),console.log(t.artists.items);var i=t.tracks.items.slice(0,5).map(function(e){return s.a.createElement("li",{className:"top-result-track",key:e.id,onClick:function(){return function(e,t){n(e,t),null!==e.preview_url&&(l(),!1===a&&r())}(e,{images:[e.album.images[0].url],name:e.name})}},s.a.createElement("div",{className:"top-results__tracks-left"},s.a.createElement("div",{className:"top-results__tracks--playStatus"},s.a.createElement(v.FaMusic,{className:"music-note"}),s.a.createElement(v.FaPlay,{className:"play-icon"})),s.a.createElement("div",{className:"truncate"},s.a.createElement("div",{className:"top-results__tracks--name truncate"},e.name),s.a.createElement("div",{className:"top-results__tracks--artist-info truncate"},s.a.createElement("div",{className:"top-results__tracks--artist"},R(e.artists)),s.a.createElement("span",null,"\xb7"),s.a.createElement("div",{className:"top-results__tracks--album"},e.album.name)))),s.a.createElement("div",{className:"top-results__tracks--duration"},V(e.duration_ms)))});return s.a.createElement("div",{className:"SearchResults"},s.a.createElement("h2",null,"Top Results"),s.a.createElement("div",{className:"top-results"},s.a.createElement("div",{className:"top-results__playlist"},s.a.createElement("div",{className:"thumbnail large",onClick:function(){c.push("/playlist/featured/".concat(t.playlists.items[0].id),{ownerId:t.playlists.items[0].owner.id,ownerName:t.playlists.items[0].owner.display_name,playlistName:t.playlists.items[0].name,thumbnail:t.playlists.items[0].images[0].url})}},s.a.createElement("img",{src:"".concat(t.playlists.items[0].images[0].url),alt:"Thumbnail for ".concat(t.playlists.items[0].name," playlist")}),s.a.createElement("div",{className:"overlay"},s.a.createElement(C.MdPlayCircleOutline,null))),s.a.createElement("div",{className:"top-results__playlist-details"},s.a.createElement("div",{className:"top-results__playlist-details--name",onClick:function(){c.push("/playlist/featured/".concat(t.playlists.items[0].id),{ownerId:t.playlists.items[0].owner.id,ownerName:t.playlists.items[0].owner.display_name,playlistName:t.playlists.items[0].name,thumbnail:t.playlists.items[0].images[0].url})}},t.playlists.items[0].name),s.a.createElement("div",{className:"top-results__playlist-details--owner"},t.playlists.items[0].owner.display_name))),s.a.createElement("div",{className:"top-results__tracks"},s.a.createElement("ul",null,i))),s.a.createElement("h2",null,"Artists"),s.a.createElement("div",{className:"artist-results"},s.a.createElement("ul",{className:"tilelist"},t.artists.items.filter(function(e){return 0!==e.images.length&&e.images[0].height===e.images[0].width}).slice(0,12).map(function(e){return s.a.createElement("li",{className:"tile",key:e.id},s.a.createElement("div",{className:"thumbnail circle"},s.a.createElement("img",{className:"artist thumbnail",alt:"Thumbnail for artist ".concat(e.name),src:"".concat(e.images[0].url)}),s.a.createElement("div",{className:"overlay"})),s.a.createElement("div",{className:"artist-results__artist"},e.name))}))),s.a.createElement("h2",null,"Albums"),s.a.createElement("div",{className:"albums-results"},s.a.createElement("ul",{className:"tilelist"},t.albums.items.filter(function(e){return 0!==e.images.length&&e.images[0].height===e.images[0].width}).slice(0,12).map(function(e){return s.a.createElement("li",{className:"tile",key:e.id},s.a.createElement("div",{className:"thumbnail",onClick:function(){c.push("/playlist/newreleases/".concat(e.id))}},s.a.createElement("img",{alt:"Thumbnail for album ".concat(e.name),src:"".concat(e.images[0].url)}),s.a.createElement("div",{className:"overlay"},s.a.createElement(C.MdPlayCircleOutline,null))),s.a.createElement("div",{className:"albums-results__album",onClick:function(){c.push("/playlist/newreleases/".concat(e.id))}},L(e.name)),s.a.createElement("div",{className:"albums-results__artist"},L(R(e.artists))))}))),s.a.createElement("h2",null,"Playlists"),s.a.createElement("div",{className:"playlists-results"},s.a.createElement("ul",{className:"tilelist"},t.playlists.items.filter(function(e){return 0!==e.images.length&&e.images[0].height===e.images[0].width&&null!==e.owner.display_name}).slice(0,12).map(function(e){return s.a.createElement("li",{className:"tile",key:e.id},s.a.createElement("div",{className:"thumbnail",onClick:function(){c.push("/playlist/featured/".concat(e.id),{ownerId:e.owner.id,ownerName:e.owner.display_name,playlistName:e.name,thumbnail:e.images[0].url})}},s.a.createElement("img",{alt:"Thumbnail for playlist ".concat(e.name),src:"".concat(e.images[0].url)}),s.a.createElement("div",{className:"overlay"},s.a.createElement(C.MdPlayCircleOutline,null))),s.a.createElement("div",{className:"playlists-results__playlist",onClick:function(){c.push("/playlist/featured/".concat(e.id),{ownerId:e.owner.id,ownerName:e.owner.display_name,playlistName:e.name,thumbnail:e.images[0].url})}},L(e.name)),s.a.createElement("div",{className:"playlists-results__owner"},e.owner.display_name))}))))}),Q=(a(1633),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).handleInput=function(e){a.setState({input:e.target.value})},a.sendQuery=function(e){e.preventDefault();var t=a.replaceSpaces(a.state.input);fetch("https://api.spotify.com/v1/search?q=".concat(t,"&type=album,artist,playlist,track"),{headers:{Authorization:"Bearer ".concat(a.props.accessToken)}}).then(function(e){return e.json()}).then(function(e){a.setState({results:e})})},a.state={input:"",results:null},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"replaceSpaces",value:function(e){for(var t=e.split(""),a=0;a<t.length;a++)" "===t[a]&&t.splice(a,1,"%20");return t.join("")}},{key:"render",value:function(){return s.a.createElement("div",{className:"Search"},s.a.createElement("form",{className:"searchbar",onSubmit:this.sendQuery},s.a.createElement("label",{htmlFor:"search"},"Search for an Artist, Song, Album, or Playlist"),s.a.createElement("input",{id:"search",placeholder:"Start typing...",type:"text",onChange:this.handleInput})),s.a.createElement("div",{className:"results-container"},null!==this.state.results&&s.a.createElement(z,{results:this.state.results,isPlaying:this.props.isPlaying,saveSongInfo:this.props.saveSongInfo,startSync:this.props.startSync,togglePlayStatus:this.props.togglePlayStatus})))}}]),t}(n.Component)),H=Object(p.b)(function(e){return{accessToken:e.accessToken,isPlaying:e.isPlaying}},function(e){return{startSync:function(){e({type:"START_SYNC"})},saveSongInfo:function(t,a){e(f(t,a))},togglePlayStatus:function(){e({type:"TOGGLE_PLAY_STATUS"})}}})(Q),J=function(e){var t=e.album,a=e.isPlaying,l=e.saveSongInfo,r=e.startSync,c=e.togglePlayStatus,i=e.updateRecentlyPlayed,o=t.tracklist.map(function(e){return s.a.createElement("li",{className:"playlist-track",key:e.id,onClick:function(){return function(e,t){l(e,t),null!==e.preview_url&&!1===a&&(c(),r()),i(t)}(e,{id:t.id,images:[t.images[2].url],name:t.name,type:t.type})}},s.a.createElement("div",{className:"playlist-track-left"},s.a.createElement("div",{className:"playlist-track--playStatus"},s.a.createElement(v.FaMusic,{className:"music-note"}),s.a.createElement(v.FaPlay,{className:"play-icon"})),s.a.createElement("div",{className:"truncate"},s.a.createElement("div",{className:"playlist-track--title truncate"},e.name),s.a.createElement("div",{className:"playlist-track--artist-info truncate"},e.artists.length>1&&s.a.createElement("div",{className:"playlist-track--additionalArtists"},R(e.artists.slice(1)))))),s.a.createElement("div",{className:"playlist-track--duration"},V(e.duration_ms)))});return s.a.createElement("div",{className:"album-wrapper"},s.a.createElement("div",{className:"album-details"},s.a.createElement(n.Fragment,null,s.a.createElement("img",{src:"".concat(t.images[0].url),alt:"Thumbnail for ".concat(t.name)}),s.a.createElement("div",{className:"album-details--title"},t.name),s.a.createElement("div",{className:"album-details--artist"},t.artists[0].name),s.a.createElement("div",{className:"album-details--other"},t.releaseDate.slice(0,4)," \xb7 ",t.tracklist.length," ",1===t.tracklist.length?"song":"songs"))),s.a.createElement("div",{className:"Playlist"},s.a.createElement("ul",null,o)))},X=function(e){var t=e.playlist,a=e.isPlaying,l=e.saveSongInfo,r=e.startSync,c=e.togglePlayStatus,i=e.updateRecentlyPlayed,o=t.tracklist.map(function(e){return s.a.createElement("li",{className:"playlist-track",key:e.track.id,onClick:function(){return function(e,t){l(e,t),null!==e.preview_url&&(r(),!1===a&&c()),i(t)}(e.track,{id:t.id,images:[t.image],name:t.name,type:t.type})}},s.a.createElement("div",{className:"playlist-track-left"},s.a.createElement("div",{className:"playlist-track--playStatus"},s.a.createElement(v.FaMusic,{className:"music-note"}),s.a.createElement(v.FaPlay,{className:"play-icon"})),s.a.createElement("div",{className:"truncate"},s.a.createElement("div",{className:"playlist-track--title truncate"},e.track.name),s.a.createElement("div",{className:"playlist-track--artist-info truncate"},e.track.artists[0].name&&s.a.createElement("div",{className:"playlist-track--artist"},e.track.artists[0].name," "),e.track.artists.length>1&&s.a.createElement("span",null,"\xb7"),e.track.artists.length>1&&s.a.createElement("div",{className:"playlist-track--additionalArtists"},R(e.track.artists.slice(1)))))),s.a.createElement("div",{className:"playlist-track--duration"},V(e.track.duration_ms)))});return s.a.createElement("div",{className:"playlist-wrapper"},s.a.createElement("div",{className:"playlist-details"},s.a.createElement(n.Fragment,null,s.a.createElement("img",{src:t.image,alt:"Thumbnail for ".concat(t.name)}),s.a.createElement("div",{className:"playlist-details--title"},t.name),s.a.createElement("div",{className:"playlist-details--owner"},t.owner),s.a.createElement("div",{className:"playlist-details--other"},t.tracklist.length," ",1===t.tracklist.length?"song":"songs"))),s.a.createElement("div",{className:"Playlist"},s.a.createElement("ul",null,o)))},q=(a(1635),""),$=function(e){function t(e){var a;Object(c.a)(this,t);var n=(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).props.match.params;switch(n.type){case"genres":q="https://api.spotify.com/v1/users/".concat(a.props.location.state.ownerId,"/playlists/").concat(n.id,"/tracks");break;case"featured":q="https://api.spotify.com/v1/users/spotify/playlists/".concat(n.id,"/tracks");break;case"newreleases":q="https://api.spotify.com/v1/albums/".concat(n.id);break;default:q=""}return a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch(q,{headers:{Authorization:"Bearer ".concat(this.props.state.accessToken)}}).then(function(e){return e.json()}).then(function(t){console.log("Playlist data: ",t),"newreleases"===e.props.match.params.type?e.props.saveAlbum({artists:t.artists,id:t.id,name:t.name,images:t.images,type:t.album_type,releaseDate:t.release_date,tracklist:t.tracks.items}):(e.props.match.params.type,e.props.savePlaylist({owner:e.props.location.state.ownerName,id:e.props.match.params.id,name:e.props.location.state.playlistName,image:e.props.location.state.thumbnail,type:"playlist",tracklist:t.items}))})}},{key:"render",value:function(){return s.a.createElement(n.Fragment,null,this.props.state.playlist&&s.a.createElement(X,{playlist:this.props.state.playlist,isPlaying:this.props.state.isPlaying,saveSongInfo:this.props.saveSongInfo,startSync:this.props.startSync,togglePlayStatus:this.props.togglePlayStatus,updateRecentlyPlayed:this.props.updateRecentlyPlayed}),this.props.state.album&&s.a.createElement(J,{album:this.props.state.album,isPlaying:this.props.state.isPlaying,saveSongInfo:this.props.saveSongInfo,startSync:this.props.startSync,togglePlayStatus:this.props.togglePlayStatus,updateRecentlyPlayed:this.props.updateRecentlyPlayed}))}}]),t}(n.Component),K=Object(p.b)(function(e){return{state:e}},function(e){return{startSync:function(){e({type:"START_SYNC"})},saveSongInfo:function(t,a){e(f(t,a))},togglePlayStatus:function(){e({type:"TOGGLE_PLAY_STATUS"})},saveAlbum:function(t){e(function(e){return{type:"SAVE_ALBUM",payload:e}}(t))},savePlaylist:function(t){e(function(e){return{type:"SAVE_PLAYLIST",payload:e}}(t))},updateRecentlyPlayed:function(t){e(function(e){return{type:"UPDATE RECENTLY PLAYED",payload:{newAlbum:e}}}(t))}}})($),Z=(a(1637),function(){return s.a.createElement("div",{className:"NoMatch"},s.a.createElement("p",null,"Oops, this page hasn't been created yet!"))}),ee=a(1640),te=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement(ee.a,{basename:"/moosic"},s.a.createElement("div",{className:"App"},s.a.createElement("div",{className:"App-top"},this.props.isLoggedIn&&s.a.createElement(S,null),s.a.createElement(P.a,null,s.a.createElement(T,{exact:!0,path:"/",isLoggedIn:this.props.isLoggedIn,component:G}),s.a.createElement(j.a,{path:"/login",component:d}),s.a.createElement(j.a,{path:"/middle",component:k}),s.a.createElement(T,{path:"/browse",isLoggedIn:this.props.isLoggedIn,component:G}),s.a.createElement(T,{path:"/view/:id",isLoggedIn:this.props.isLoggedIn,component:U}),s.a.createElement(T,{path:"/playlist/:type/:id",isLoggedIn:this.props.isLoggedIn,component:K}),s.a.createElement(T,{path:"/search",isLoggedIn:this.props.isLoggedIn,component:H}),s.a.createElement(j.a,{component:Z}))),this.props.isLoggedIn&&s.a.createElement(x,null)))}}]),t}(n.Component),ae=Object(p.b)(function(e){return{isLoggedIn:e.isLoggedIn}})(te),ne=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function se(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}var le=a(17),re=a(32),ce=a(13),ie={accessToken:"",isLoggedIn:!1,genres:[],featuredPlaylists:[],newReleases:[],album:null,playlist:null,currentlyPlayingSrc:null,currentlyPlayingTrack:null,currentlyPlayingAlbum:null,playerDurationDisplay:"0:00",playerCurrentTimeDisplay:"0:00",playerProgressBarWidth:"0px",isPlaying:!1,startSync:!1,recentlyPlayed:[]},oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOG_IN":return Object(ce.a)({},e,{accessToken:t.token,isLoggedIn:!0});case"LOG_OUT":return Object(ce.a)({},e,{accessToken:"",isLoggedIn:!1});case"SAVE_GENRES":return Object(ce.a)({},e,{genres:t.payload});case"SAVE_FEATURED_PLAYLISTS":return Object(ce.a)({},e,{featuredPlaylists:t.payload});case"SAVE_NEW_RELEASES":return Object(ce.a)({},e,{newReleases:t.payload});case"SAVE_ALBUM":return Object(ce.a)({},e,{album:t.payload,playlist:null});case"SAVE_PLAYLIST":return Object(ce.a)({},e,{album:null,playlist:t.payload});case"SAVE_SONG_INFO":return Object(ce.a)({},e,{currentlyPlayingSrc:t.payload.track.preview_url,currentlyPlayingTrack:t.payload.track,currentlyPlayingAlbum:t.payload.album,playerProgressBarWidth:"0px"});case"TOGGLE_PLAY_STATUS":return Object(ce.a)({},e,{isPlaying:!e.isPlaying});case"START_SYNC":return Object(ce.a)({},e,{startSync:!0});case"END_START_SYNC":return Object(ce.a)({},e,{startSync:!1});case"UPDATE_SONG_PROGRESS":return Object(ce.a)({},e,{playerCurrentTimeDisplay:t.payload.currentTimeDisplay,playerProgressBarWidth:t.payload.progressBarWidth});case"UPDATE_SONG_DURATION":return Object(ce.a)({},e,{playerDurationDisplay:t.payload.durationDisplay});case"UPDATE RECENTLY PLAYED":var a=Object(re.a)(e.recentlyPlayed),n=a.map(function(e){return e.id}).indexOf(t.payload.newAlbum.id);return-1===n&&(a.unshift(t.payload.newAlbum),a.length>3&&a.pop()),n>-1&&(a.splice(n,1),a.unshift(t.payload.newAlbum)),Object(ce.a)({},e,{recentlyPlayed:a});default:return ie}},ue=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||le.c,me=Object(le.d)(oe,ue(Object(le.a)()));r.a.render(s.a.createElement(p.a,{store:me},s.a.createElement(ae,null)),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/moosic",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/moosic","/service-worker.js");ne?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):se(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):se(e)})}}()},25:function(e,t,a){},34:function(e,t,a){e.exports=a(1639)},39:function(e,t,a){},47:function(e,t,a){},49:function(e,t,a){},679:function(e,t,a){}},[[34,2,1]]]);
//# sourceMappingURL=main.69d92e95.chunk.js.map